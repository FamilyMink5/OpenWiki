# OpenWiki 문서 구조

OpenWiki는 위키 문서를 관리하기 위한 특별한 파일 구조를 사용합니다.

## 파일 구조

각 위키 문서는 `.opwi` 확장자를 가지며 다음과 같은 구조로 구성됩니다:

### 문서 헤더
```
DOC:[UUID v7]
```
- 각 문서는 고유한 UUID v7로 식별됩니다.
- 예: `DOC:067b6e84-fdbe-73a1-8000-85d847465a72`

### 리비전 정보
```
REVUSER:[사용자닉네임]:[IP주소]
REV:[SHA256 해시값]
```
- `REVUSER`: 수정한 사용자의 닉네임과 IP 주소를 기록
- `REV`: 타임스탬프가 포함된 문서 데이터의 SHA256 해시값
- 예: 
  - `REVUSER:Sinoka:61.72.114.110`
  - `REV:db7a3c5284dc93ddec1c8e3e426478eec5889b2673ade6144059de594e876a01`

### 문서 내용 변경사항
```
[변경타입][줄번호]|[시작인덱스]|[끝인덱스]:[내용]
```
- 변경 타입:
  - `+`: 추가
  - `-`: 제거
  - `=`: 변경
- 줄번호: 변경이 발생한 줄의 번호
- 시작인덱스: 변경이 시작되는 문자 위치
- 끝인덱스: 변경이 끝나는 문자 위치
- 내용: 실제 문서의 텍스트 내용

예시:
```
+0|0|10:오픈위키 대문입니다.
=0|0|10:안녕이친구야우리같이놀자
```

## 예시 문서
```
DOC:067b6e84-fdbe-73a1-8000-85d847465a72
REVUSER:Sinoka:61.72.114.110
REV:db7a3c5284dc93ddec1c8e3e426478eec5889b2673ade6144059de594e876a01
+0|0|10:오픈위키 대문입니다.
REVUSER:Sinoka:61.72.114.110
REV:-----
=0|0|10:안녕이친구야우리같이놀자
```

이 구조를 통해 문서의 변경 이력을 정확하게 추적하고 관리할 수 있습니다. 